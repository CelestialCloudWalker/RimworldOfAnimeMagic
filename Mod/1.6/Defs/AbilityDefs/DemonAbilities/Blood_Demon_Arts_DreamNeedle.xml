<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <AnimeArsenal.TalentedLevelingAbilityDef>
    <defName>Blood_Demon_Arts_DreamNeedle</defName>
    <label>Blood Demon Arts: Dream Needle</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <description>Causes targets to fall asleep instantly. Becomes more powerful and affects more targets as mastery increases.</description>
    <iconPath>UI/Abilities/DemonSleepAbilitySleep</iconPath>
    <cooldownTicksRange>100</cooldownTicksRange>
    <aiCanUse>true</aiCanUse>
    <targetRequired>true</targetRequired>
    <hostile>true</hostile>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>

    <requiredGeneDefName>BloodDemonArt</requiredGeneDefName>
    <resourceCost>20</resourceCost>
    <baseExperienceGain>10</baseExperienceGain>
    <showExperienceInTooltip>true</showExperienceInTooltip>

    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>12</range>
      <warmupTime>1.5</warmupTime>
      <soundCast>FireSpew_Resolve</soundCast>
      <targetParams>
        <canTargetPawns>true</canTargetPawns>
        <canTargetSelf>false</canTargetSelf>
        <canTargetAnimals>true</canTargetAnimals>
        <canTargetMechs>false</canTargetMechs>
      </targetParams>
    </verbProperties>

    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
        <useSleepHediff>false</useSleepHediff>
        <forceImmediateSleep>true</forceImmediateSleep>
        <showMessage>true</showMessage>
        <sleepDurationHours>4</sleepDurationHours>
        <maxTargets>1</maxTargets>
        <range>12</range>
        <canPenetrateMindShields>false</canPenetrateMindShields>
      </li>
    </comps>

    <levels>
      <li>
        <labelSuffix> (Level 1)</labelSuffix>
        <experienceRequired>0</experienceRequired>
        <description>Basic sleep induction technique. Puts a single target to sleep for a short duration. Range: 12 tiles.</description>
      </li>

      <li>
        <labelSuffix> (Level 2)</labelSuffix>
        <experienceRequired>50</experienceRequired>
        <description>Improved sleep technique with slightly longer duration and extended range. Range: 14 tiles.</description>
        <resourceCostMultiplier>0.96</resourceCostMultiplier>
        <verbProperties>
          <range>14</range>
          <warmupTime>1.4</warmupTime>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
            <useSleepHediff>false</useSleepHediff>
            <forceImmediateSleep>true</forceImmediateSleep>
            <showMessage>true</showMessage>
            <sleepDurationHours>5</sleepDurationHours>
            <maxTargets>1</maxTargets>
            <range>14</range>
            <canPenetrateMindShields>false</canPenetrateMindShields>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 3)</labelSuffix>
        <experienceRequired>120</experienceRequired>
        <description>LevelTwo sleep technique with longer duration and extended range. Range: 16 tiles.</description>
        <resourceCostMultiplier>0.94</resourceCostMultiplier>
        <verbProperties>
          <range>16</range>
          <warmupTime>1.3</warmupTime>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
            <useSleepHediff>false</useSleepHediff>
            <forceImmediateSleep>true</forceImmediateSleep>
            <showMessage>true</showMessage>
            <sleepDurationHours>6</sleepDurationHours>
            <maxTargets>2</maxTargets>
            <range>16</range>
            <areaOfEffect>true</areaOfEffect>
            <areaRadius>2</areaRadius>
            <canPenetrateMindShields>false</canPenetrateMindShields>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 4)</labelSuffix>
        <experienceRequired>230</experienceRequired>
        <description>Advanced technique that can affect multiple targets in an area with deep sleep. Range: 19 tiles.</description>
        <resourceCostMultiplier>0.92</resourceCostMultiplier>
        <verbProperties>
          <range>19</range>
          <warmupTime>1.2</warmupTime>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
            <useSleepHediff>false</useSleepHediff>
            <forceImmediateSleep>true</forceImmediateSleep>
            <showMessage>true</showMessage>
            <sleepDurationHours>8</sleepDurationHours>
            <maxTargets>3</maxTargets>
            <range>19</range>
            <areaOfEffect>true</areaOfEffect>
            <areaRadius>3</areaRadius>
            <canPenetrateMindShields>true</canPenetrateMindShields>
            <wakeResistance>0.3</wakeResistance>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 5)</labelSuffix>
        <experienceRequired>380</experienceRequired>
        <description>Powerful sleep mastery that affects many targets over a wide area with extended deep sleep. Range: 22 tiles.</description>
        <resourceCostMultiplier>0.9</resourceCostMultiplier>
        <verbProperties>
          <range>22</range>
          <warmupTime>1.1</warmupTime>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
            <useSleepHediff>false</useSleepHediff>
            <forceImmediateSleep>true</forceImmediateSleep>
            <showMessage>true</showMessage>
            <sleepDurationHours>10</sleepDurationHours>
            <maxTargets>4</maxTargets>
            <range>22</range>
            <areaOfEffect>true</areaOfEffect>
            <areaRadius>4</areaRadius>
            <canPenetrateMindShields>true</canPenetrateMindShields>
            <deepSleep>true</deepSleep>
            <wakeResistance>0.6</wakeResistance>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 6)</labelSuffix>
        <experienceRequired>600</experienceRequired>
        <description>Ultimate sleep mastery - affects many targets over a vast area with extended deep sleep that's nearly impossible to wake from. Range: 26 tiles.</description>
        <resourceCostMultiplier>0.88</resourceCostMultiplier>
        <verbProperties>
          <range>26</range>
          <warmupTime>1.0</warmupTime>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_CauseSleep">
            <useSleepHediff>false</useSleepHediff>
            <forceImmediateSleep>true</forceImmediateSleep>
            <showMessage>true</showMessage>
            <sleepDurationHours>12</sleepDurationHours>
            <maxTargets>6</maxTargets>
            <range>26</range>
            <areaOfEffect>true</areaOfEffect>
            <areaRadius>5</areaRadius>
            <canPenetrateMindShields>true</canPenetrateMindShields>
            <deepSleep>true</deepSleep>
            <wakeResistance>0.9</wakeResistance>
          </li>
        </levelComps>
      </li>
    </levels>
  </AnimeArsenal.TalentedLevelingAbilityDef>
</Defs>
