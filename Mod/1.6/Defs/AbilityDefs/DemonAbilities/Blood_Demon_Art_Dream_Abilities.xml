<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <ThoughtDef>
    <defName>NightmareDream</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>3</durationDays>
    <stackLimit>3</stackLimit>
    <stages>
      <li>
        <label>nightmare</label>
        <description>I had terrible nightmares that felt so real. The images still haunt me.</description>
        <baseMoodEffect>-8</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>PleasantDream</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>2</durationDays>
    <stackLimit>2</stackLimit>
    <stages>
      <li>
        <label>pleasant dreams</label>
        <description>I had the most wonderful dreams. I feel refreshed and optimistic.</description>
        <baseMoodEffect>+12</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>ImplantedMemory_Betrayal</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>10</durationDays>
    <stackLimit>1</stackLimit>
    <stages>
      <li>
        <label>betrayed by friend</label>
        <description>I remember being betrayed by someone I trusted. The memory feels so real.</description>
        <baseMoodEffect>-15</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>ImplantedMemory_Victory</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>7</durationDays>
    <stackLimit>1</stackLimit>
    <stages>
      <li>
        <label>glorious victory</label>
        <description>I remember achieving a great victory. It fills me with confidence.</description>
        <baseMoodEffect>+10</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>ImplantedMemory_Loss</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>8</durationDays>
    <stackLimit>1</stackLimit>
    <stages>
      <li>
        <label>terrible loss</label>
        <description>I remember losing something precious. The grief feels overwhelming.</description>
        <baseMoodEffect>-12</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>DreamMoodPositive</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>5</durationDays>
    <stackLimit>1</stackLimit>
    <stages>
      <li>
        <label>manipulated dreams</label>
        <description>My dreams were unusually positive and uplifting. I feel strangely optimistic.</description>
        <baseMoodEffect>+15</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>DreamMoodNegative</defName>
    <thoughtClass>Thought_Memory</thoughtClass>
    <durationDays>5</durationDays>
    <stackLimit>1</stackLimit>
    <stages>
      <li>
        <label>disturbing dreams</label>
        <description>My dreams were filled with anxiety and dread. I can't shake the feeling.</description>
        <baseMoodEffect>-12</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <HediffDef>
    <defName>NightmareTrauma</defName>
    <label>nightmare trauma</label>
    <description>Psychological trauma from experiencing terrifying nightmares.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.8, 0.4, 0.4)</defaultLabelColor>
    <initialSeverity>0.5</initialSeverity>
    <maxSeverity>1.0</maxSeverity>
    <isBad>true</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.2</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>0.01</minSeverity>
        <label>mild</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.05</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.05</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.5</minSeverity>
        <label>severe</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.15</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.10</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <HediffDef>
    <defName>DreamBliss</defName>
    <label>dream bliss</label>
    <description>A state of enhanced well-being from pleasant dreams.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.4, 0.8, 0.4)</defaultLabelColor>
    <initialSeverity>0.5</initialSeverity>
    <maxSeverity>1.0</maxSeverity>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.3</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>0.01</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>0.10</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>0.05</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <HediffDef>
    <defName>MemoryConfusion</defName>
    <label>memory confusion</label>
    <description>Confusion and disorientation from having memories extracted.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.6, 0.6, 0.8)</defaultLabelColor>
    <initialSeverity>0.5</initialSeverity>
    <maxSeverity>1.0</maxSeverity>
    <isBad>true</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.25</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>0.01</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.10</offset>
          </li>
          <li>
            <capacity>Talking</capacity>
            <offset>-0.15</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <HediffDef>
    <defName>MemoryDisorientation</defName>
    <label>memory disorientation</label>
    <description>Disorientation from having false memories implanted.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.8, 0.6, 0.8)</defaultLabelColor>
    <initialSeverity>0.5</initialSeverity>
    <maxSeverity>1.0</maxSeverity>
    <isBad>true</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.15</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>0.01</minSeverity>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.08</offset>
          </li>
          <li>
            <capacity>Manipulation</capacity>
            <offset>-0.10</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Abyssal_Visions</defName>
    <label>Blood Demon Arts: Abyssal Visions</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Abyssal_Visions_Group</groupDef>
    <description>Inflict terrifying nightmares on a sleeping target, causing psychological trauma and reducing rest quality.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>300</cooldownTicksRange>
    <displayOrder>210</displayOrder>
    <aiCanUse>true</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>5</range>
      <warmupTime>2.0</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>Nightmare</dreamEffectType>
        <effectSeverity>0.8</effectSeverity>
        <restPenalty>0.4</restPenalty>
        <nightmareThought>NightmareDream</nightmareThought>
        <nightmareHediff>NightmareTrauma</nightmareHediff>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Dream_of_Serenity</defName>
    <label>Blood Demon Arts: Serene Dreams</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Dream_of_Serenity_Group</groupDef>
    <description>Grant peaceful, restorative dreams to a sleeping target, improving their mood and rest quality.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>600</cooldownTicksRange>
    <displayOrder>211</displayOrder>
    <aiCanUse>false</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>5</range>
      <warmupTime>2.0</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>PleasantDream</dreamEffectType>
        <effectSeverity>0.6</effectSeverity>
        <restBonus>0.5</restBonus>
        <pleasantDreamThought>PleasantDream</pleasantDreamThought>
        <pleasantDreamHediff>DreamBliss</pleasantDreamHediff>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Memory_Harvest</defName>
    <label>Blood Demon Arts: Memory Harvest</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Memory_Harvest_Group</groupDef>
    <description>Dive into a sleeping target's dreams to extract valuable information about their faction, skills, and background.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>1200</cooldownTicksRange>
    <displayOrder>212</displayOrder>
    <aiCanUse>true</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>3</range>
      <warmupTime>3.0</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>MemoryExtraction</dreamEffectType>
        <effectSeverity>0.5</effectSeverity>
        <memoryExtractionHediff>MemoryConfusion</memoryExtractionHediff>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Memory_Manipulation</defName>
    <label>Blood Demon Arts: Memory Manipulation</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Memory_Manipulation_Group</groupDef>
    <description>Plant false memories and thoughts into a sleeping target's mind through dream manipulation.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>1800</cooldownTicksRange>
    <displayOrder>213</displayOrder>
    <aiCanUse>false</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>3</range>
      <warmupTime>4.0</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>MemoryImplantation</dreamEffectType>
        <effectSeverity>0.7</effectSeverity>
        <memoryImplantHediff>MemoryDisorientation</memoryImplantHediff>
        <implantedMemoryThoughts>
          <li>ImplantedMemory_Betrayal</li>
          <li>ImplantedMemory_Victory</li>
          <li>ImplantedMemory_Loss</li>
        </implantedMemoryThoughts>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Memory_Dream_Parasite</defName>
    <label>Blood Demon Arts: Dream Parasite</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Memory_Dream_Parasite_Group</groupDef>
    <description>Enter a sleeping target's dreams and steal their knowledge and skills for yourself. The skill and amount transferred is unpredictable.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>2400</cooldownTicksRange>
    <displayOrder>214</displayOrder>
    <aiCanUse>false</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>2</range>
      <warmupTime>5.0</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>SkillTransfer</dreamEffectType>
        <effectSeverity>0.5</effectSeverity>
        <transferFromTarget>true</transferFromTarget>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

  <AbilityDef>
    <defName>Blood_Demon_Arts_Hearts_Manipulation</defName>
    <label>Blood Demon Arts: Heart's Manipulation</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <groupDef>Blood_Demon_Arts_Memory_Harvest_Group</groupDef>
    <description>Manipulate a sleeping target's emotional state through their dreams, making them more compliant or hostile.</description>
    <iconPath>UI/Icons/ComingSoon</iconPath>
    <cooldownTicksRange>900</cooldownTicksRange>
    <displayOrder>215</displayOrder>
    <aiCanUse>true</aiCanUse>
    <displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>False</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>4</range>
      <warmupTime>2.5</warmupTime>
      <soundCast>PsycastPsychicEffect</soundCast>
      <targetParams>
        <canTargetPawns>True</canTargetPawns>
        <canTargetSelf>False</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_DreamManipulation">
        <dreamEffectType>MoodManipulation</dreamEffectType>
        <effectSeverity>0.6</effectSeverity>
        <moodChange>15</moodChange>
        <positiveMoodThought>DreamMoodPositive</positiveMoodThought>
        <negativeMoodThought>DreamMoodNegative</negativeMoodThought>
        <showMessage>true</showMessage>
      </li>
      <li Class="AnimeArsenal.CompProperties_ResourceCost">
        <resourceGeneDef>BloodDemonArt</resourceGeneDef>
        <resourceCost>20</resourceCost>
      </li>
    </comps>
  </AbilityDef>

</Defs>
