<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <AnimeArsenal.TalentedLevelingAbilityDef>
    <defName>Blood_Demon_Art_Groundlash_Tentacles</defName>
    <label>Blood Demon Art: Groundlash Tentacles</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <description>Demon tentacles come out and launch targets in the area. Gains experience with each use and becomes more powerful.</description>
    <iconPath>UI/Abilities/DemonAbilityWhip</iconPath>
    <cooldownTicksRange>300</cooldownTicksRange>
    <aiCanUse>false</aiCanUse>
    <targetRequired>true</targetRequired>


    <requiredGeneDefName>BloodDemonArt</requiredGeneDefName>
    <resourceCost>20</resourceCost>
    <baseExperienceGain>10</baseExperienceGain>
    <showExperienceInTooltip>true</showExperienceInTooltip>

    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>10</range>
      <warmupTime>0.5</warmupTime>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetSelf>false</canTargetSelf>
        <canTargetBuildings>false</canTargetBuildings>
      </targetParams>
    </verbProperties>


    <comps>
      <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
        <effectRadius>4.0</effectRadius>
        <maxTargets>3</maxTargets>
        <flingDistance>6</flingDistance>
        <damage>15</damage>
        <armorPenetration>0.2</armorPenetration>
        <stunHediff>PsychicShock</stunHediff>
        <stunSeverity>1.0</stunSeverity>
        <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
        <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
        <hitEffecterCount>5</hitEffecterCount>
        <hitEffecterRadius>2.0</hitEffecterRadius>
        <showMessages>true</showMessages>
      </li>
    </comps>

    <levels>

      <li>
        <labelSuffix> (Novice)</labelSuffix>
        <experienceRequired>0</experienceRequired>
        <description>Basic demon tentacles emerge from the ground to lash at enemies.</description>
        <cumulativeEffects>false</cumulativeEffects>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>4.0</effectRadius>
            <maxTargets>3</maxTargets>
            <flingDistance>6</flingDistance>
            <damage>15</damage>
            <armorPenetration>0.2</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.0</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>5</hitEffecterCount>
            <hitEffecterRadius>2.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>


      <li>
        <labelSuffix> (Adept)</labelSuffix>
        <experienceRequired>150</experienceRequired>
        <description>Stronger tentacles with increased range and damage capability.</description>
        <resourceCostMultiplier>1.0</resourceCostMultiplier>
        <cumulativeEffects>false</cumulativeEffects>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>5.0</effectRadius>
            <maxTargets>4</maxTargets>
            <flingDistance>7</flingDistance>
            <damage>20</damage>
            <armorPenetration>0.3</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.2</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>7</hitEffecterCount>
            <hitEffecterRadius>2.5</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>


      <li>
        <labelSuffix> (Expert)</labelSuffix>
        <experienceRequired>350</experienceRequired>
        <description>Advanced tentacle control with wider area coverage and brutal efficiency.</description>
        <resourceCostMultiplier>0.9</resourceCostMultiplier>
        <cumulativeEffects>false</cumulativeEffects>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>6.5</effectRadius>
            <maxTargets>5</maxTargets>
            <flingDistance>8</flingDistance>
            <damage>28</damage>
            <armorPenetration>0.4</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.5</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>10</hitEffecterCount>
            <hitEffecterRadius>3.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>


      <li>
        <labelSuffix> (Master)</labelSuffix>
        <experienceRequired>700</experienceRequired>
        <description>Ultimate tentacle mastery - devastating area control with maximum reach and power.</description>
        <resourceCostMultiplier>0.8</resourceCostMultiplier>
        <cumulativeEffects>false</cumulativeEffects>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>8.0</effectRadius>
            <maxTargets>8</maxTargets>
            <flingDistance>10</flingDistance>
            <damage>35</damage>
            <armorPenetration>0.5</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>2.0</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>15</hitEffecterCount>
            <hitEffecterRadius>4.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>
    </levels>
  </AnimeArsenal.TalentedLevelingAbilityDef>


  <EffecterDef>
    <defName>AnimeArsenal_WhipHit</defName>
    <children>
      <li>
        <spawnLocType>OnTarget</spawnLocType>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <burstCount>3</burstCount>
        <ticksBetweenMotes>5</ticksBetweenMotes>
        <scale>2.5~3.5</scale>
        <positionLerpFactor>0</positionLerpFactor>
        <positionRadius>1.0</positionRadius>
        <moteDef>AnimeArsenal_WhipMote</moteDef>
        <rotation>0~360</rotation>
        <rotationRate>-30~30</rotationRate>
      </li>
    </children>
  </EffecterDef>

  <EffecterDef>
    <defName>AnimeArsenal_WhipHit_Single</defName>
    <children>
      <li>
        <spawnLocType>OnTarget</spawnLocType>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <burstCount>1</burstCount>
        <scale>3.0~4.0</scale>
        <positionLerpFactor>0</positionLerpFactor>
        <positionRadius>0</positionRadius>
        <moteDef>AnimeArsenal_WhipMote</moteDef>
        <rotation>0~360</rotation>
        <rotationRate>-30~30</rotationRate>
      </li>
    </children>
  </EffecterDef>

  <ThingDef ParentName="MoteBase">
    <defName>AnimeArsenal_WhipMote</defName>
    <thingClass>MoteAttached</thingClass>
    <graphicData>
      <graphicClass>Graphic_MoteWithAgeSecs</graphicClass>
      <shaderType>GlowAnimated</shaderType>
      <texPath>Animations/Demon/EnmuTentacle_sequence</texPath>
      <shaderParameters>
        <_NumFrames>8</_NumFrames>
        <_Loop>0</_Loop>
        <_FramesPerSec>8</_FramesPerSec>
      </shaderParameters>
    </graphicData>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <mote>
      <fadeInTime>0.1</fadeInTime>
      <solidTime>0.8</solidTime>
      <fadeOutTime>0.3</fadeOutTime>
      <growthRate>0</growthRate>
    </mote>
  </ThingDef>
</Defs>
