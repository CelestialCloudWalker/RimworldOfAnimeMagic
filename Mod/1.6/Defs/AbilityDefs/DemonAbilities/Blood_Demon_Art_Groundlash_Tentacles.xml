<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <AnimeArsenal.TalentedLevelingAbilityDef>
    <defName>Blood_Demon_Art_Groundlash_Tentacles</defName>
    <label>Blood Demon Art: Groundlash Tentacles</label>
    <category>BloodDemonArts_AbilityCaterogry</category>
    <description>A blood demon art that creates tentacles to throw targets around.</description>
    <iconPath>UI/Abilities/DemonAbilityWhip</iconPath>
    <cooldownTicksRange>300</cooldownTicksRange>
    <aiCanUse>false</aiCanUse>
    <targetRequired>true</targetRequired>

    <requiredGeneDefName>BloodDemonArt</requiredGeneDefName>
    <resourceCost>20</resourceCost>
    <baseExperienceGain>10</baseExperienceGain>
    <showExperienceInTooltip>true</showExperienceInTooltip>

    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>10</range>
      <warmupTime>0.5</warmupTime>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetSelf>false</canTargetSelf>
        <canTargetBuildings>false</canTargetBuildings>
      </targetParams>
    </verbProperties>

    <levels>
      <li>
        <labelSuffix> (Level 1)</labelSuffix>
        <experienceRequired>0</experienceRequired>
        <description>Blood demon tentacles erupt from the ground to fling enemies. Range: 10 tiles, radius: 4.0, Max Targets: 3, Damage: 15, Fling: 6 tiles.</description>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>4.0</effectRadius>
            <maxTargets>3</maxTargets>
            <flingDistance>6</flingDistance>
            <damage>15</damage>
            <armorPenetration>0.20</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.0</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>5</hitEffecterCount>
            <hitEffecterRadius>2.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 2)</labelSuffix>
        <experienceRequired>100</experienceRequired>
        <description>LevelTwo tentacle control with greater reach. Range: 11 tiles, radius: 4.5, Max Targets: 3, Damage: 18, Fling: 6.5 tiles.</description>
        <resourceCostMultiplier>1.05</resourceCostMultiplier>
        <verbProperties>
          <range>11</range>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>5</effectRadius>
            <maxTargets>3</maxTargets>
            <flingDistance>7</flingDistance>
            <damage>18</damage>
            <armorPenetration>0.25</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.1</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>6</hitEffecterCount>
            <hitEffecterRadius>2.2</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 3)</labelSuffix>
        <experienceRequired>250</experienceRequired>
        <description>Multiple targets can be caught in the writhing tentacles. Range: 12 tiles, radius: 5.0, Max Targets: 4, Damage: 22, Fling: 7 tiles.</description>
        <resourceCostMultiplier>1.10</resourceCostMultiplier>
        <verbProperties>
          <range>12</range>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>5.0</effectRadius>
            <maxTargets>4</maxTargets>
            <flingDistance>7</flingDistance>
            <damage>22</damage>
            <armorPenetration>0.30</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.3</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>8</hitEffecterCount>
            <hitEffecterRadius>2.5</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 4)</labelSuffix>
        <experienceRequired>450</experienceRequired>
        <description>Wider area of devastation as tentacles multiply. Range: 13 tiles, radius: 6.0, Max Targets: 5, Damage: 26, Fling: 8 tiles.</description>
        <resourceCostMultiplier>1.15</resourceCostMultiplier>
        <verbProperties>
          <range>13</range>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>6.0</effectRadius>
            <maxTargets>5</maxTargets>
            <flingDistance>8</flingDistance>
            <damage>26</damage>
            <armorPenetration>0.35</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>2</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>10</hitEffecterCount>
            <hitEffecterRadius>3.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 5)</labelSuffix>
        <experienceRequired>700</experienceRequired>
        <description>Nearly perfected technique with devastating force. Range: 15 tiles, radius: 7.0, Max Targets: 6, Damage: 31, Fling: 9 tiles.</description>
        <resourceCostMultiplier>1.20</resourceCostMultiplier>
        <verbProperties>
          <range>15</range>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>7.0</effectRadius>
            <maxTargets>6</maxTargets>
            <flingDistance>9</flingDistance>
            <damage>31</damage>
            <armorPenetration>0.42</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>1.7</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>12</hitEffecterCount>
            <hitEffecterRadius>3.5</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>

      <li>
        <labelSuffix> (Level 6)</labelSuffix>
        <experienceRequired>1000</experienceRequired>
        <description>Ultimate mastery: A storm of blood tentacles engulfs the battlefield. Range: 17 tiles, radius: 8.0, Max Targets: 8, Damage: 38, Fling: 10 tiles.</description>
        <resourceCostMultiplier>1.25</resourceCostMultiplier>
        <verbProperties>
          <range>17</range>
        </verbProperties>
        <levelComps>
          <li Class="AnimeArsenal.CompProperties_AbilityEffect_GroundFling">
            <effectRadius>8.0</effectRadius>
            <maxTargets>8</maxTargets>
            <flingDistance>10</flingDistance>
            <damage>38</damage>
            <armorPenetration>0.50</armorPenetration>
            <stunHediff>PsychicShock</stunHediff>
            <stunSeverity>2.0</stunSeverity>
            <groundEffecter>AnimeArsenal_WhipHit</groundEffecter>
            <hitEffecter>AnimeArsenal_WhipHit_Single</hitEffecter>
            <hitEffecterCount>15</hitEffecterCount>
            <hitEffecterRadius>4.0</hitEffecterRadius>
            <showMessages>true</showMessages>
          </li>
        </levelComps>
      </li>
    </levels>
  </AnimeArsenal.TalentedLevelingAbilityDef>

  <EffecterDef>
    <defName>AnimeArsenal_WhipHit</defName>
    <children>
      <li>
        <spawnLocType>OnTarget</spawnLocType>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <burstCount>3</burstCount>
        <ticksBetweenMotes>5</ticksBetweenMotes>
        <scale>2.5~3.5</scale>
        <positionLerpFactor>0</positionLerpFactor>
        <positionRadius>1.0</positionRadius>
        <moteDef>AnimeArsenal_WhipMote</moteDef>
        <rotation>0~360</rotation>
        <rotationRate>-30~30</rotationRate>
      </li>
    </children>
  </EffecterDef>

  <EffecterDef>
    <defName>AnimeArsenal_WhipHit_Single</defName>
    <children>
      <li>
        <spawnLocType>OnTarget</spawnLocType>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <burstCount>1</burstCount>
        <scale>3.0~4.0</scale>
        <positionLerpFactor>0</positionLerpFactor>
        <positionRadius>0</positionRadius>
        <moteDef>AnimeArsenal_WhipMote</moteDef>
        <rotation>0~360</rotation>
        <rotationRate>-30~30</rotationRate>
      </li>
    </children>
  </EffecterDef>

  <ThingDef ParentName="MoteBase">
    <defName>AnimeArsenal_WhipMote</defName>
    <thingClass>MoteAttached</thingClass>
    <graphicData>
      <graphicClass>Graphic_MoteWithAgeSecs</graphicClass>
      <shaderType>GlowAnimated</shaderType>
      <texPath>Animations/Demon/EnmuTentacle_sequence</texPath>
      <shaderParameters>
        <_NumFrames>8</_NumFrames>
        <_Loop>0</_Loop>
        <_FramesPerSec>8</_FramesPerSec>
      </shaderParameters>
    </graphicData>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <mote>
      <fadeInTime>0.1</fadeInTime>
      <solidTime>0.8</solidTime>
      <fadeOutTime>0.3</fadeOutTime>
      <growthRate>0</growthRate>
    </mote>
  </ThingDef>
</Defs>
