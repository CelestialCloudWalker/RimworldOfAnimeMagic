<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <AnimeArsenal.BloodDemonArtsGeneDef Name="AA_BloodDemonArtsGene" Abstract="True">
    <geneClass>AnimeArsenal.BloodDemonArtsGene</geneClass>
    <resourceGizmoType>AnimeArsenal.GeneGizmoBlood</resourceGizmoType>
    <biostatCpx>2</biostatCpx>
    <biostatMet>1</biostatMet>
    <resourceGizmoThresholds>
      <li>0.25</li>
      <li>0.5</li>
      <li>0.75</li>
    </resourceGizmoThresholds>
    <displayCategory>DemonBloodArts</displayCategory>
    <showGizmoWhenDrafted>true</showGizmoWhenDrafted>
    <regenTicks>BloodDemonArts_RegenTicks</regenTicks>
    <regenStat>BloodDemonArts_RegenAmount</regenStat>
    <regenSpeedStat>AnimeArsenal_BloodDemonArtsRegenSpeed</regenSpeedStat>
    <costMult>BloodDemonArts_Cost</costMult>
    <maxStat>BloodDemonArts</maxStat>

    <modExtensions>

      <li Class="AnimeArsenal.DemonProgressionExtension">
        <startingRank>WeakDemon</startingRank>
        <canProgressThroughTalents>true</canProgressThroughTalents>

        <bloodPoolStat>BloodDemonArts</bloodPoolStat>
        <bloodPoolBonusPerPawnEaten>5</bloodPoolBonusPerPawnEaten>
        <bloodRestoredPerPawnEaten>15</bloodRestoredPerPawnEaten>

        <pawnsRequiredPerRank>
          <li>20</li>
          <li>50</li>
          <li>100</li>
          <li>150</li>
          <li>200</li>
          <li>250</li>
          <li>300</li>
          <li>450</li>
          <li>600</li>
          <li>750</li>
          <li>900</li>
          <li>1050</li>
          <li>1100</li>
        </pawnsRequiredPerRank>

        <sunlightDamagePerTick>
          <li>4.0</li>
          <li>3.8</li>
          <li>3.5</li>
          <li>3.2</li>
          <li>2.8</li>
          <li>2.5</li>
          <li>2.2</li>
          <li>1.9</li>
          <li>1.6</li>
          <li>1.3</li>
          <li>1.0</li>
          <li>0.7</li>
          <li>0.4</li>
          <li>0.1</li>
        </sunlightDamagePerTick>

        <sunlightDamageThreshold>
          <li>12</li>
          <li>18</li>
          <li>25</li>
          <li>35</li>
          <li>48</li>
          <li>65</li>
          <li>85</li>
          <li>110</li>
          <li>140</li>
          <li>175</li>
          <li>215</li>
          <li>260</li>
          <li>310</li>
          <li>375</li>
        </sunlightDamageThreshold>

        <sunlightTicksBetweenDamage>
          <li>80</li>
          <li>90</li>
          <li>105</li>
          <li>120</li>
          <li>140</li>
          <li>165</li>
          <li>195</li>
          <li>230</li>
          <li>270</li>
          <li>315</li>
          <li>365</li>
          <li>420</li>
          <li>480</li>
          <li>550</li>
        </sunlightTicksBetweenDamage>

        <sunlightTicksToReset>
          <li>1200</li>
          <li>1500</li>
          <li>1850</li>
          <li>2250</li>
          <li>2700</li>
          <li>3200</li>
          <li>3750</li>
          <li>4350</li>
          <li>5000</li>
          <li>5700</li>
          <li>6450</li>
          <li>7250</li>
          <li>8100</li>
          <li>9000</li>
        </sunlightTicksToReset>

        <sunlightMinCoverage>
          <li>0.30</li>
          <li>0.35</li>
          <li>0.40</li>
          <li>0.45</li>
          <li>0.50</li>
          <li>0.54</li>
          <li>0.58</li>
          <li>0.62</li>
          <li>0.66</li>
          <li>0.70</li>
          <li>0.74</li>
          <li>0.78</li>
          <li>0.82</li>
          <li>0.85</li>
        </sunlightMinCoverage>
        <sunlightTolerancePool>
          <li>10</li>    <!-- WeakDemon: ~20 seconds -->
          <li>14</li>    <!-- Demon: ~33 seconds -->
          <li>20</li>    <!-- LowerRankSix: ~1 minute -->
          <li>28</li>    <!-- LowerRankFive: ~1.7 minutes -->
          <li>38</li>    <!-- LowerRankFour: ~3 minutes -->
          <li>52</li>    <!-- LowerRankThree: ~5 minutes -->
          <li>70</li>    <!-- LowerRankTwo: ~8.5 minutes -->
          <li>92</li>    <!-- LowerRankOne: ~15 minutes -->
          <li>120</li>   <!-- UpperRankSix: ~26 minutes -->
          <li>155</li>   <!-- UpperRankFive: ~45 minutes -->
          <li>197</li>   <!-- UpperRankFour: ~1.3 hours -->
          <li>247</li>   <!-- UpperRankThree: ~2.5 hours -->
          <li>305</li>   <!-- UpperRankTwo: ~4.3 hours -->
          <li>372</li>   <!-- UpperRankOne: ~7 hours -->
        </sunlightTolerancePool>

        <regenHealingMultiplier>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>2.9</li>
          <li>3.4</li>
          <li>4.0</li>
          <li>4.7</li>
          <li>5.5</li>
          <li>6.4</li>
          <li>7.5</li>
        </regenHealingMultiplier>

        <regenTicksBetweenHealing>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>100</li>
          <li>90</li>
          <li>80</li>
          <li>70</li>
          <li>62</li>
          <li>55</li>
          <li>48</li>
        </regenTicksBetweenHealing>

        <regenHealingPerTick>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.0</li>
          <li>3.7</li>
          <li>4.5</li>
          <li>5.5</li>
        </regenHealingPerTick>

        <regenInstantLimb>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </regenInstantLimb>

        <regenInstantOrgan>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>false</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </regenInstantOrgan>

        <regenCanRegenerateOrgans>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </regenCanRegenerateOrgans>

        <regenCanRegenerateHeart>
          <li>false</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </regenCanRegenerateHeart>

        <regenScarHealChance>
          <li>0.02</li>
          <li>0.04</li>
          <li>0.07</li>
          <li>0.10</li>
          <li>0.14</li>
          <li>0.18</li>
          <li>0.23</li>
          <li>0.28</li>
          <li>0.34</li>
          <li>0.41</li>
          <li>0.48</li>
          <li>0.56</li>
          <li>0.65</li>
          <li>0.75</li>
        </regenScarHealChance>

        <regenScarHealInterval>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>1100</li>
          <li>2300</li>
          <li>2000</li>
          <li>1700</li>
          <li>1400</li>
          <li>1100</li>
        </regenScarHealInterval>

        <regenResourceCostPerHeal>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>1.1</li>
          <li>0.9</li>
          <li>0.7</li>
        </regenResourceCostPerHeal>

        <regenResourceCostPerLimb>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>62</li>
          <li>54</li>
          <li>46</li>
          <li>38</li>
          <li>30</li>
        </regenResourceCostPerLimb>

        <regenResourceCostPerOrgan>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>92</li>
          <li>76</li>
          <li>60</li>
        </regenResourceCostPerOrgan>

        <regenMinResourcesRequired>
          <li>0.40</li>
          <li>0.37</li>
          <li>0.34</li>
          <li>0.31</li>
          <li>0.28</li>
          <li>0.25</li>
          <li>0.22</li>
          <li>0.19</li>
          <li>0.16</li>
          <li>0.14</li>
          <li>0.12</li>
          <li>0.10</li>
          <li>0.08</li>
          <li>0.05</li>
        </regenMinResourcesRequired>

        <bodyDisappearLeaveAsh>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </bodyDisappearLeaveAsh>

        <bodyDisappearFilthAmount>
          <li>1</li>
          <li>1</li>
          <li>2</li>
          <li>2</li>
          <li>3</li>
          <li>3</li>
          <li>4</li>
          <li>4</li>
          <li>5</li>
          <li>6</li>
          <li>7</li>
          <li>8</li>
          <li>9</li>
          <li>10</li>
        </bodyDisappearFilthAmount>

        <bodyDisappearPlayEffect>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
          <li>true</li>
        </bodyDisappearPlayEffect>

        <bodyDisappearMessage>
          <li>Weak demon body turned to ash!</li>
          <li>Demon body turned to ash!</li>
          <li>Lower Rank Six demon body turned to ash!</li>
          <li>Lower Rank Five demon body turned to ash!</li>
          <li>Lower Rank Four demon body turned to ash!</li>
          <li>Lower Rank Three demon body turned to ash!</li>
          <li>Lower Rank Two demon body turned to ash!</li>
          <li>Lower Rank One demon body turned to ash!</li>
          <li>Upper Rank Six demon body turned to ash!</li>
          <li>Upper Rank Five demon body turned to ash!</li>
          <li>Upper Rank Four demon body turned to ash!</li>
          <li>Upper Rank Three demon body turned to ash!</li>
          <li>Upper Rank Two demon body turned to ash!</li>
          <li>Upper Rank One demon body turned to ash!</li>
        </bodyDisappearMessage>
      </li>

      <li Class="AnimeArsenal.RegenerationExtension">
        <healingMultiplier>1.2</healingMultiplier>
        <ticksBetweenHealing>180</ticksBetweenHealing>
        <healingPerTick>0.3</healingPerTick>
        <instantLimbRegeneration>false</instantLimbRegeneration>
        <instantOrganRegeneration>false</instantOrganRegeneration>
        <canRegenerateOrgans>false</canRegenerateOrgans>
        <canRegenerateBrain>false</canRegenerateBrain>
        <canRegenerateHeart>false</canRegenerateHeart>
        <canRegenerateHead>false</canRegenerateHead>
        <scarHealChance>0.05</scarHealChance>
        <scarHealInterval>4000</scarHealInterval>
        <consumeResourcesOnRegeneration>true</consumeResourcesOnRegeneration>
        <resourceCostPerHeal>3</resourceCostPerHeal>
        <resourceCostPerLimbRegen>120</resourceCostPerLimbRegen>
        <resourceCostPerOrganRegen>250</resourceCostPerOrganRegen>
        <resourceCostPerScarHeal>60</resourceCostPerScarHeal>
        <preventRegenIfInsufficientResources>true</preventRegenIfInsufficientResources>
        <minimumResourcesRequired>0.3</minimumResourcesRequired>
        <showResourceWarnings>true</showResourceWarnings>
        <resourceWarningCooldownTicks>2500</resourceWarningCooldownTicks>
        <preventDeathFromVitalLoss>false</preventDeathFromVitalLoss>
        <fatalBodyParts>
          <li>Neck</li>
          <li>AA_DemonNeck</li>
          <li>Head</li>
          <li>Brain</li>
        </fatalBodyParts>
        <onlyNotifyMajorParts>true</onlyNotifyMajorParts>
        <resourceName>Blood Art</resourceName>
      </li>

      <li Class="AnimeArsenal.SunlightDamageExtension">
        <damagePerTick>3.5</damagePerTick>
        <damageThresholdBeforeDeath>15</damageThresholdBeforeDeath>
        <ticksBetweenDamage>90</ticksBetweenDamage>
        <ticksToResetDamage>1500</ticksToResetDamage>
        <minimumCoverageForProtection>0.35</minimumCoverageForProtection>
        <requireHeadCoverage>true</requireHeadCoverage>
        <sunTolerancePool>10</sunTolerancePool>
      </li>

      <li Class="AnimeArsenal.BodyDisappearExtension">
        <leaveAshFilth>true</leaveAshFilth>
        <filthAmount>1</filthAmount>
        <disappearMessage>Weak demon body turned to ash!</disappearMessage>
        <playEffect>true</playEffect>
      </li>
    </modExtensions>
  </AnimeArsenal.BloodDemonArtsGeneDef>

  <AnimeArsenal.BloodDemonArtsGeneDef ParentName="AA_BloodDemonArtsGene">
    <defName>BloodDemonArt</defName>
    <label>Blood Demon Art</label>
    <resourceName>Blood Art</resourceName>
    <description>A demon with blood arts that grow stronger with kills and training.</description>
    <iconPath>UI/Icons/Genes/Demon</iconPath>
    <resourceLabel>Blood Art</resourceLabel>
    <resourceDescription>Demon Blood Art that evolves with power.</resourceDescription>

    <TalentTrees>
      <li>BloodDemonArtStyleTree</li>
    </TalentTrees>

    <experienceFormula>Basic_LinearXP</experienceFormula>
    <experienceGainSettings>
      <experienceTypes>
        <li Class="Talented.DamageTakenExperienceTypeDef">
          <baseXP>6</baseXP>
          <damageFactor>0.12</damageFactor>
        </li>
        <li Class="Talented.DamageDealtExperienceTypeDef">
          <baseXP>18</baseXP>
          <damageFactor>0.25</damageFactor>
        </li>
        <li Class="Talented.SkillExperienceTypeDef">
          <SkillDef>Melee</SkillDef>
          <baseXP>4</baseXP>
        </li>
        <li Class="Talented.SkillExperienceTypeDef">
          <SkillDef>Medicine</SkillDef>
          <baseXP>3</baseXP>
        </li>
        <li Class="Talented.SkillExperienceTypeDef">
          <SkillDef>Shooting</SkillDef>
          <baseXP>1.5</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>AttackMelee</SkillDef>
          <baseXP>20</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>AttackStatic</SkillDef>
          <baseXP>16</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>Hunt</SkillDef>
          <baseXP>16</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>PredatorHunt</SkillDef>
          <baseXP>18</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>TendPatient</SkillDef>
          <baseXP>10</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>ExtractSkull</SkillDef>
          <baseXP>15</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>PrisonerExecution</SkillDef>
          <baseXP>18</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>GuiltyColonistExecution</SkillDef>
          <baseXP>18</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>SlaveExecution</SkillDef>
          <baseXP>18</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>PrisonerBloodfeed</SkillDef>
          <baseXP>25</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>Sacrifice</SkillDef>
          <baseXP>22</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>Scarify</SkillDef>
          <baseXP>15</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>Blind</SkillDef>
          <baseXP>15</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>DeliverToAltar</SkillDef>
          <baseXP>12</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>FeedPatient</SkillDef>
          <baseXP>8</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>ExtractBioferrite</SkillDef>
          <baseXP>14</baseXP>
        </li>
        <li Class="Talented.JobExperienceTypeDef">
          <SkillDef>ExecuteEntity</SkillDef>
          <baseXP>18</baseXP>
        </li>
      </experienceTypes>
    </experienceGainSettings>

    <resourceLossPerDay>0</resourceLossPerDay>
    <barColor>(0.545, 0.0, 0.0, 1.0)</barColor>

    <makeImmuneTo>
      <li>Flu</li>
      <li>Malaria</li>
      <li>SleepingSickness</li>
      <li>Plague</li>
      <li>WoundInfection</li>
      <li>LungRot</li>
      <li>GutWorms</li>
      <li>MuscleParasites</li>
      <li>OrganDecay</li>
    </makeImmuneTo>
    <hediffGiversCannotGive>
      <li>Carcinoma</li>
      <li>HeartAttack</li>
      <li>HeartArteryBlockage</li>
    </hediffGiversCannotGive>

    <TabLabel>Talents</TabLabel>
  </AnimeArsenal.BloodDemonArtsGeneDef>
</Defs>
